<html>
    <head>
        <title>jsUnit test</title>
        <script language="JavaScript" src="jsunit/app/jsUnitCore.js"></script>
        <script language="JavaScript" src="../app/assets/javascripts/timer.js"></script>
		    <script language="JavaScript">

				function sleep(milliseconds) {
				  var start = new Date().getTime();
				  for (var i = 0; i < 1e7; i++) {
				    if ((new Date().getTime() - start) > milliseconds){
				      break;
				    }
				  }
				}

	      function testRecordsTime()
	      {
					var the_timer = new Timer();
					the_timer.start();
					sleep(1);
					the_timer.stop();
					assert('Time has elapsed', the_timer.current_elapsed() > 0);
	      };
	
				function testElapsedSeconds() {
					var the_timer = new Timer();
					the_timer.start();
					sleep(1);
					the_timer.stop();
					debug(the_timer.elapsedSeconds());
					assert('Time has elapsed 0 seconds', the_timer.elapsedSeconds() < 1);
					
					the_timer.start();
					sleep(1700);
					the_timer.stop();
					assert('Time has elapsed 1 seconds', the_timer.elapsedSeconds() > 1);
					assert('Time has elapsed 1 seconds', the_timer.elapsedSeconds() < 2);
				};

	      </script>

    </head>
    <body>
        <p>Hello...</p>
    </body>
</html>
